{"ast":null,"code":"import _defineProperty from \"/Users/karthik-dhaaru/Documents/Workspace/Dharani/expense_tracker/expense_tracker_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/karthik-dhaaru/Documents/Workspace/Dharani/expense_tracker/expense_tracker_frontend/src/components/signup.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { NavLink } from \"react-router-dom\";\nimport Copyright from \"./common/copyright\";\nimport Joi from \"joi-browser\";\nimport _ from \"lodash\";\nimport { addUserService } from \"../services/userService\";\n\nconst styles = theme => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.common.white\n    }\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(3)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  red: {\n    color: \"red\"\n  }\n});\n\nclass Signup extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n    this.schema = {\n      name: Joi.string().required(),\n      email: Joi.string().required().email(),\n      password: Joi.string().min(2).max(255).required()\n    };\n\n    this.validateFormDetails = async event => {\n      event.preventDefault();\n      const options = {\n        abortEarly: false\n      };\n\n      const _Joi$validate = Joi.validate({\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password\n      }, this.schema, options),\n            error = _Joi$validate.error;\n\n      if (!error) {\n        try {\n          await addUserService({\n            name: this.state.name,\n            email: this.state.email,\n            password: this.state.password\n          });\n          return this.props.history.push('/login');\n        } catch (error) {\n          if (error.response && error.response.status === 400) {\n            const errors = _objectSpread({}, this.state.errors);\n\n            errors.email = error.response.data;\n            this.setState({\n              errors\n            });\n            return;\n          }\n\n          return;\n        }\n      }\n\n      const errors = _objectSpread({}, this.state.errors);\n\n      error.details.map(errorDetails => {\n        const errorState = errorDetails.message.match(/\"(.*?)\"/);\n        errors[errorState[1]] = errorDetails.message;\n        this.setState({\n          errors\n        });\n        return errorDetails.message;\n      });\n    };\n\n    this.handleFocus = () => {\n      this.setState({\n        errors: {}\n      });\n    };\n\n    this.handleName = event => {\n      this.setState({\n        name: event.target.value\n      });\n    };\n\n    this.handleEmail = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.handlePassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n  }\n\n  render() {\n    const classes = this.props.classes;\n    return React.createElement(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(CssBaseline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      className: classes.avatar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(LockOutlinedIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    })), React.createElement(Typography, {\n      component: \"h1\",\n      variant: \"h5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Sign up\"), React.createElement(\"form\", {\n      className: classes.form,\n      noValidate: true,\n      onSubmit: this.validateFormDetails,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      autoComplete: \"name\",\n      name: \"name\",\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      id: \"name\",\n      label: \"Name\",\n      autoFocus: true,\n      onFocus: this.handleFocus,\n      onChange: this.handleName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: classes.red,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, this.state.errors.name && _.values(this.state.errors.name))), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      id: \"email\",\n      label: \"Email Address\",\n      name: \"email\",\n      onFocus: this.handleFocus,\n      onChange: this.handleEmail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: classes.red,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, this.state.errors.email && _.values(this.state.errors.email))), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      variant: \"outlined\",\n      value: this.state.password,\n      required: true,\n      fullWidth: true,\n      name: \"password\",\n      label: \"Password\",\n      type: \"password\",\n      id: \"password\",\n      autoComplete: \"current-password\",\n      onFocus: this.handleFocus,\n      onChange: this.handlePassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: classes.red,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, this.state.errors.password && _.values(this.state.errors.password)))), React.createElement(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      className: classes.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Sign Up\"), React.createElement(Grid, {\n      container: true,\n      justify: \"flex-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"/login\",\n      variant: \"body2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"Already have an account? Sign in\"))))), React.createElement(Box, {\n      mt: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(Copyright, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default withStyles(styles)(Signup);","map":{"version":3,"sources":["/Users/karthik-dhaaru/Documents/Workspace/Dharani/expense_tracker/expense_tracker_frontend/src/components/signup.jsx"],"names":["React","Component","Avatar","Button","CssBaseline","TextField","Grid","Box","LockOutlinedIcon","Typography","withStyles","Container","NavLink","Copyright","Joi","_","addUserService","styles","theme","body","backgroundColor","palette","common","white","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","secondary","main","form","width","submit","red","color","Signup","state","name","email","password","errors","schema","string","required","min","max","validateFormDetails","event","preventDefault","options","abortEarly","validate","error","props","history","push","response","status","data","setState","details","map","errorDetails","errorState","message","match","handleFocus","handleName","target","value","handleEmail","handlePassword","render","classes","values"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport {  NavLink } from \"react-router-dom\";\nimport Copyright from \"./common/copyright\"\nimport Joi from \"joi-browser\"\nimport _ from \"lodash\";\nimport {addUserService } from \"../services/userService\";\n\n\nconst styles = theme => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.common.white,\n    },\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  red : { \n    color : \"red\"\n  }\n});\n\nclass Signup extends Component {\n  state =  { \n    name : \"\",\n    email : \"\",\n    password:\"\",\n    errors: {}\n  }\n  \n  schema = { \n    name: Joi.string().required(),\n    email: Joi.string().required().email(),\n    password: Joi.string().min(2).max(255).required()\n  }\n  \n\n  validateFormDetails = async(event) => { \n\n    event.preventDefault();\n    const options = {abortEarly : false};\n    const {error} = Joi.validate({ \n       name : this.state.name,\n       email : this.state.email, \n       password : this.state.password\n    }, this.schema,options);\n\n    if(!error) { \n      try { \n        await addUserService({ \n          name : this.state.name,\n          email : this.state.email, \n          password : this.state.password\n        })\n        return this.props.history.push('/login'); \n      }catch(error) { \n        if (error.response && error.response.status === 400) {\n          const errors = { ...this.state.errors };\n          errors.email = error.response.data;\n          this.setState({ errors });\n          return;\n        }\n        return\n      }\n    }\n      \n     \n    const errors = { ...this.state.errors };\n\n\t\terror.details.map(errorDetails => {\n\t\t\tconst errorState = errorDetails.message.match(/\"(.*?)\"/);\n\t\t\terrors[errorState[1]] = errorDetails.message;\n\t\t\tthis.setState({ errors });\n\t\t\treturn errorDetails.message;\n\t\t});\n\n  }\n\n  handleFocus = () => {\n\t\tthis.setState({ errors: {} });\n\t};\n\n  handleName = (event) => { \n    this.setState({name : event.target.value})\n  };   \n\n  handleEmail =(event) => { \n    this.setState({email : event.target.value})\n  };\n\n  handlePassword = (event) => { \n    this.setState({password : event.target.value})\n  };\n\n  render() { \n    const {classes} = this.props; \n\n    return ( \n      <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n\n      <div className={classes.paper}>\n      <Avatar className={classes.avatar}>\n        <LockOutlinedIcon />\n      </Avatar>\n\n      <Typography component=\"h1\" variant=\"h5\">\n        Sign up\n      </Typography>\n\n      <form className={classes.form} noValidate onSubmit={ this.validateFormDetails}>\n        <Grid container spacing={2}>\n          <Grid item xs={12} >\n            <TextField\n              autoComplete=\"name\"\n              name=\"name\"\n              variant=\"outlined\"\n              required\n              fullWidth\n              id=\"name\"\n              label=\"Name\"\n              autoFocus\n              onFocus={this.handleFocus}\n              onChange={this.handleName}\n            />\n            <div className={classes.red}> \n            {this.state.errors.name &&\n\t\t\t\t\t\t\t\t\t\t\t_.values(this.state.errors.name)}\n            </div>\n          </Grid>\n          \n          <Grid item xs={12}>\n            <TextField\n              variant=\"outlined\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              onFocus={this.handleFocus}\n              onChange={this.handleEmail}\n            />\n            <div className={classes.red}> \n            {this.state.errors.email &&\n\t\t\t\t\t\t\t\t\t\t\t_.values(this.state.errors.email)}\n            </div>\n          </Grid>\n\n          <Grid item xs={12}>\n            <TextField\n              variant=\"outlined\"\n              value ={this.state.password}\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onFocus={this.handleFocus}\n              onChange={this.handlePassword}\n            />\n            <div className={classes.red}> \n            {this.state.errors.password &&\n\t\t\t\t\t\t\t\t\t\t\t_.values(this.state.errors.password)}\n            </div>\n          </Grid>\n          \n        </Grid>\n        <Button\n          type=\"submit\"\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submit}\n        >\n          Sign Up\n        </Button>\n\n        <Grid container justify=\"flex-end\">\n          <Grid item>\n            <NavLink to={\"/login\"} variant=\"body2\">\n              Already have an account? Sign in\n            </NavLink>\n          </Grid>\n        </Grid>\n\n      </form>\n    </div>\n\n    <Box mt={5}>\n      <Copyright />\n    </Box>\n\n  </Container>\n)}}\n\n \nexport default withStyles(styles)(Signup);\n"]},"metadata":{},"sourceType":"module"}